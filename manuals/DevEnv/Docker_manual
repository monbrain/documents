


> Written with [StackEdit](https://stackedit.io/).## [docker ê¸°ë³¸ ëª…ë ¹ì–´ (ps, stop, start, rm, logs, exec, images, network)](https://darrengwon.tistory.com/791)

2ë…„ ì „  by  DarrenKwonDev

### **ì»¨í…Œì´ë„ˆ ë ˆë²¨ ëª…ë ¹ì–´**

**ğŸ³ docker ps**

psëŠ” process statusì˜ ì•½ìì…ë‹ˆë‹¤.

```
// í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ë„ì»¤ ì»¨í…Œì´ë„ˆ 
docker ps

// aì˜µì…˜ì„ ì£¼ê²Œ ëœ ê²½ìš° stopëœ ì»¨í…Œì´ë„ˆë„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
docker ps -a
```

docker psë¥¼ ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰ì¤‘ì¸  **ì»¨í…Œì´ë„ˆ**ê°€ ëœ¹ë‹ˆë‹¤. namesëŠ” ì§ì ‘ --name ì˜µì…˜ì„ ì¤€ ê²½ìš°ì—ëŠ” í•´ë‹¹ ì´ë¦„ìœ¼ë¡œ ëœ¨ì§€ë§Œ ìƒëµí•œ ê²½ìš° ëœë¤í•œ ì´ë¦„ì´ ë¶€ì—¬ë©ë‹ˆë‹¤. ì•„ë˜ ì¶œë ¥ì—ì„œëŠ” borring_mahavirra, bold_heisenbergê°€ ë–´ë„¤ìš”.

ê·¸ë°–ì— ì‚¬ìš©í•˜ê³  ìˆëŠ” í¬íŠ¸ê°€ ì–´ë””ì¸ì§€, ì–¸ì œ ìƒì„±ë˜ì—ˆëŠ”ì§€, ë¬´ìŠ¨ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰ ì¤‘ì¸ì§€ ë“±ì˜ ì •ë³´ë„ ì•Œë ¤ì¤ë‹ˆë‹¤.

![](https://blog.kakaocdn.net/dn/JnKON/btqHUaT4bWR/eJqSv5SDFdPSPKJgCCTk7K/img.png)

ì›í•˜ëŠ” ë¶€ë¶„ë§Œ ë³´ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ë©ë‹ˆë‹¤. \ëŠ” ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ í…Œì´ë¸”ì„ tabìœ¼ë¡œ ë„ì›Œë†“ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.

```
docker ps --format 'table{{.Image}}\table{{.Names}}'
```

ğŸš¨ ë„ì»¤ì˜ ë¼ì´í”„ì‚¬ì´í´

docker createë‚˜ startëŠ” ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê³  runì„ ìì£¼ ì”ë‹ˆë‹¤ë§Œ, êµ³ì´ êµ¬ë¶„í•˜ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

![](https://blog.kakaocdn.net/dn/b6mnjb/btqHUb0Tcya/1XNW5mqAEohK8Tk5fSakl0/img.png)

**ğŸ³ docker stop /  **ğŸ³ docker kill****

[https://docs.docker.com/engine/reference/commandline/stop/](https://docs.docker.com/engine/reference/commandline/stop/)

```
docker stop [OPTIONS] CONTAINER [CONTAINER...]

```

ì»¨í…Œì´ë„ˆ IDë¥¼ ì…ë ¥í•´ dockerë¥¼  **ì¤‘ì§€**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ê°œë¥¼ ì¤‘ì§€í•˜ê³  ì‹¶ì€ ê²½ìš° ì»¨í…Œì´ë„ˆ IDë¥¼ ë„ì–´ì“°ê¸°ë¡œ êµ¬ë³„í•˜ë©´ ë©ë‹ˆë‹¤.

docker stopì€ Gracefully(ìš°ì•„)í•˜ê²Œ ì‘ì—…ì„ ì¤‘ì§€ì‹œí‚µë‹ˆë‹¤. ì´ ëœ»ì€, í•˜ê³  ìˆëŠ” ì‘ì—…ì„ ë§ˆì¹œ í›„ì— ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

docker kill ë˜í•œ  ì»¨í…Œì´ë„ˆë¥¼  **ì¤‘ì§€**í•©ë‹ˆë‹¤. (ì¤‘ì§€ ë° ì‚­ì œì˜ ìˆì»·ì´ ì•„ë‹™ë‹ˆë‹¤! ì£¼ì˜í•˜ì„¸ìš”!) docker stopê³¼ì˜ ì°¨ì´ì ì€ stopì´ gracefullyí•˜ê²Œ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€ì‹œí‚¤ëŠ” ë°˜ë©´ killì€ ì–´ë– í•œ ì‘ì—…ë„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ê° ì¤‘ì§€í•©ë‹ˆë‹¤.

```
docker kill [OPTIONS] CONTAINER [CONTAINER...]

```

**ğŸ³ docker rm  / docker container prune**

[https://docs.docker.com/engine/reference/commandline/rm/](https://docs.docker.com/engine/reference/commandline/rm/)

```
docker rm [OPTIONS] CONTAINER [CONTAINER...]

```

dockerë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì¤‘ì§€ì™€ ì‚­ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. ì´ë¯¸ì§€ runì‹œ --rm ì†ì„±ì„ ì£¼ì—ˆë‹¤ë©´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œì‹œ ìë™ ì‚­ì œë˜ì§€ë§Œ ì§€ì •í•˜ì§€ ì•Šì€ ê²½ìš° ì§ì ‘ ì‚­ì œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.  ì—¬ëŸ¬ ê°œë¥¼ ì‚­ì œí•˜ê³  ì‹¶ì€ ê²½ìš° ì»¨í…Œì´ë„ˆ IDë¥¼ ë„ì–´ì“°ê¸°ë¡œ êµ¬ë³„í•˜ë©´ ë©ë‹ˆë‹¤.

tip!) ë§Œì•½  **ì •ì§€ ì¤‘ì¸**  docker ì»¨í…Œì´ë„ˆ ì „ë¶€ë¥¼ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´

```
docker container prune 
```

tip!) ì´ë¯¸ì§€, ì •ì§€ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ, ë„¤íŠ¸ì›Œí¬  **ëª¨ë‘**  ë‹¤ ì§€ì›Œë²„ë¦¬ê³  ì‹¶ë‹¤ë©´

```
docker system prune
```

![](https://blog.kakaocdn.net/dn/bw0cSe/btqHT1DM9Am/L55pIo42oTSiulECbJdI6K/img.png)

**ğŸ³ docker (re)start**

EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„ëŠ” ë“± ì„œë²„ë¥¼ ì •ì§€í•˜ë©´ docker ì»¨í…Œì´ë„ˆë“¤ì´ ì „ë¶€ ì •ì§€ë©ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œì‘í•˜ê¸° ìœ„í•´ì„œëŠ”

docker start ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

```
docker start [OPTIONS] CONTAINER [CONTAINER...]

```

ì´ë¯¸ ì‹¤í–‰í•˜ê³  ìˆëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” docker restartë¥¼ ì´ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

**ğŸ³ docker logs**

```
docker logs [OPTIONS] CONTAINER

```

optionsì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

--details

Show extra details provided to logs

--follow ,  **-f**

Follow log output (í•œë²ˆ ì¶œë ¥í•˜ê³  ë§ˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê³„ì† watchí•¨)

--since

Show logs since timestamp (e.g. 2013-01-02T13:23:37) or relative (e.g. 42m for 42 minutes)

**--tail**

all

Number of lines to show from the end of the logs (ëª‡ ì¤„ ì¶œë ¥í• ê±´ì§€)

--timestamps , -t

Show timestamps

--until

[API 1.35+](https://docs.docker.com/engine/api/v1.35/)  
Show logs before a timestamp (e.g. 2013-01-02T13:23:37) or relative (e.g. 42m for 42 minutes)

**ğŸ³ docker exec**

ì´ë¯¸ ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆì— ëª…ë ¹ì–´ë¥¼ ì „ë‹¬í•˜ê³  ì‹¶ì€ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.

```
docker exec [OPTIONS] CONTAINER COMMAND [ARG...]

```

![](https://blog.kakaocdn.net/dn/KUgft/btqH2c5ezw7/J6qwRm137SshmsPlZ7NnP1/img.png)

ìœ„ì™€ ê°™ì´ ì´ë¯¸ ëŒê³ ìˆëŠ” ì»¨í…Œì´ë„ˆì—ì„œ ì¶”ê°€ì ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³ ì í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•©ë‹ˆë‹¤.

```
docker exec b810550e80e3 ls
```

```
docker exec -it c878a4949ba8 redis-cli
```

### **ì´ë¯¸ì§€ ë ˆë²¨ ëª…ë ¹ì–´**

**ğŸ³ docker images / docker pull / docker rmi**

```
docker images [OPTIONS] [REPOSITORY[:TAG]]

```

ë§ ê·¸ëŒ€ë¡œ ë‹¤ìš´ë¡œë“œí•œ ì´ë¯¸ì§€ë“¤ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. docker runì„ í•  ë•Œ ë¨¼ì € ë¡œì»¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì°¾ëŠ”ë‹¤ê³  í–ˆëŠ”ë° ì—¬ê¸° ëª©ë¡ì— ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ(pull)í•©ë‹ˆë‹¤.

REPOSITORY TAG IMAGE ID CREATED SIZE  
redis latest 41de2cc0b30e 17 hours ago 104MB  
wordpress latest 6158ccbb8924 18 hours ago 546MB  
ubuntu 20.04 4e2eef94cd6b 13 days ago 73.9MB  
centos 8 0d120b6ccaa8 3 weeks ago 215MB  
mysql 5.7 718a6da099d8 4 weeks ago 448MB  
hashicorp/http-echo latest a6838e9a6ff6 3 years ago 3.97MB

docker pullì€ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ runì„ ëŒë ¤ì„œ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ pullí•˜ê¸° ë•Œë¬¸ì— êµ³ì´ ìˆ˜ë™ìœ¼ë¡œ pullì„ ë¨¼ì €í•´ ì¤„ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.

```
docker pull [OPTIONS] NAME[:TAG|@DIGEST]

```

```
docker pull mongo
```

ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•  ë•ŒëŠ” docker rmië¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ë‹¨ ì»¨í…Œì´ë„ˆê°€ ì´ìš©í•˜ëŠ” ì¤‘ì¸ ì´ë¯¸ì§€ëŠ” ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì§€ìš°ë ¤ê³  í•˜ë©´ ì—ëŸ¬ë¥¼ ëƒ…ë‹ˆë‹¤.

conflict: unable to delete 6158ccbb8924 (cannot be forced) - image is being used by running container ee4a38b07889

```
docker rmi [OPTIONS] IMAGE [IMAGE...]

```

```
docker rmi 409c3f937574
```

**ğŸ³ docker inspect [name]**

íŠ¹ì • ì´ë¯¸ì§€ì˜ ë‚´ë¶€ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

docker inspect nginxë¡œ nginx ì´ë¯¸ì§€ ë‚´ë¶€ë¥¼ ê¹Œë³´ë©´ ì—¬ëŸ¬ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¤‘ìš”í•œ ì •ë³´ê°€ ë§ì§€ë§Œ Envì™€ Cmdê°€ ëˆˆì— ë¨¼ì € ëœ¨ì…ë‹ˆë‹¤. (ì‹¬í™”ëœ ìˆ˜ì¤€ì—ì„  layerë„ ë³´ê³  í•˜ì‹œë˜ë° ì•„ì§ ì €ëŠ”...)

cmdëŠ” ì´ë¯¸ì§€ê°€ ì‹¤í–‰ë˜ìë§ˆì ì‹¤í–‰ë˜ëŠ” commandì´ê³ 

envì€ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ëœ ê°’ë“¤ì…ë‹ˆë‹¤.

```
 "Env": [
	"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
	"NGINX_VERSION=1.19.8",
	"NJS_VERSION=0.5.2",
	"PKG_RELEASE=1~buster"
   ],
  "Cmd": [
	"/bin/sh",
	"-c",
	"#(nop) ",
	"CMD [\"nginx\" \"-g\" \"daemon off;\"]"
   ],
```

**ğŸ³ docker image prune**

[docs.docker.com/engine/reference/commandline/image_prune/](https://docs.docker.com/engine/reference/commandline/image_prune/)

pruneì´ë¼ëŠ” ë‹¨ì–´ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ ëª¨ì¡°ë¦¬ ì§€ì›Œë²„ë¦¬ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë³µìˆ˜í˜•ì¸ images ê°€ ì•„ë‹ˆë¼ ë‹¨ìˆ˜í˜•ì¸ imageì¸ ê²ƒì— ì£¼ì˜í•©ì‹œë‹¤.

```
docker image prune [OPTIONS]

```

--all , -a

Remove all unused images, not just dangling ones

--filter

Provide filter values (e.g. â€˜until=')

--force , -f

Do not prompt for confirmation

### **ë„ì»¤ ë„¤****í¬ì›Œí¬**

**ğŸ³** docker network create/connect/option

**ë„ì»¤ ë„¤íŠ¸ì›Œí¬**ë€ ì»¨í…Œì´ë„ˆë¼ë¦¬ í†µì‹ í•  ìˆ˜ ìˆëŠ” ê°€ìƒì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ë§í•©ë‹ˆë‹¤. ë„ì»¤ì˜ ì»¨í…Œì´ë„ˆëŠ” ê°ê° ê²©ë¦¬ëœ ìƒíƒœì´ë¯€ë¡œ í†µì‹ í•˜ê¸° ìœ„í•´ì„œëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

docker network create ë¥¼ í†µí•´ app-networkë¼ëŠ” ì´ë¦„ì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ë§Œë“¤ì–´ì¤¬ìŠµë‹ˆë‹¤.

```
docker network create [OPTIONS] NETWORK

```

```
docker network create app-network
```

app-networkë¼ëŠ” ì´ë¦„ì˜ ë„¤íŠ¸ì›Œí¬ì— í˜„ì¬ ìˆëŠ” mysql ì´ë€ ì´ë¦„ì˜ ì»¨í…Œì´ë„ˆë¥¼ ì—°ê²°í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

docker network connectë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

[https://docs.docker.com/engine/reference/commandline/network_connect/](https://docs.docker.com/engine/reference/commandline/network_connect/)

```
docker network connect [OPTIONS] NETWORK CONTAINER

```

```
docker network connect app-network mysql
```

ì´í›„ wordpress ì´ë¯¸ì§€ë¥¼ runí•  ë•Œ --network ì˜µì…˜ì„ í†µí•´ ì–´ë–¤ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ê²ƒì¸ì§€ ëª…ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
docker run -d -p 8080:80 --network=app-network 
-e WORDPRESS_DB_HOST=mysql
-e WORDPRESS_DB_NAME=wp
-e WORDPRESS_DB_USER=wp 
-e WORDPRESS_DB_PASSWORD=wp
wordpress

```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE2MDc0MTEwMzIsNzMwOTk4MTE2XX0=
-->